<!DOCTYPE html>
    <html>
      <head>
        <!-- <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" /> -->
        <link rel="stylesheet" href="style.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script defer src="playerChart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

        <!-- <script defer src="https://pyscript.net/alpha/pyscript.js"></script> -->

      </head>
      <body>

          <!-- navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <!-- container -->
    <div class="container-fluid row navbar-container">
      <!-- row -->
      <div class="row align-items-center navbar-row">
        <!-- col -->
        <div class="col-auto hamburger-col">
              <!-- hamburger button -->
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#conditional-dropDown" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="navbar-content">
                <ul class="navbar-nav  me-auto mb-2 mb-lg-0 ">
                  <!-- Our Work dropdown -->
                  <li class="navItem dropdown">
                    <a class="navLink btn border border-left-0 border-top-0 border-bottom-0" href="#" role="button">
                      Home
                    </a>
                  </li>
                  <!-- Local Services dropdown -->
                  <li class="navItem about">
                    <a class="navLink btn border border-left-0 border-top-0 border-bottom-0" href="#" role="button">
                        About
                    </a>

                </ul>
              </div>

        </div> <!-- end first col -->
        <div class="col-auto logo-col">
          <!-- logo -->
          <div class="logo d-inline conditional-flex">
            <a href="index.html">
              <img src="./assests/logo.png">
            </a>
          </div>
          <!-- end logo -->
        </div>

      </div> <!--end row-->
    </div> <!--end container-->
  </nav> <!-- end navbar -->
  <!-- dropdown -->
  <div class="container-fluid container-dropDown">
    <div class="conditional-dropDown collapse" id="conditional-dropDown">
      <div class="col-sm-12 col-xs-12 dropDown-col">
        <button class="dropDown-btn btn w-100 text-start" type="button"><a class="navLink link-unstyled" role="button" href="index.html">Home</a>
        </button>
        <button class="dropDown-btn btn w-100 text-start" type="button"><a class="navLink link-unstyled" role="button" href="index.html">About</a>
        </button>
    </div>
    </div>
  </div>
  <!-- end dropdown -->
        <div class="container py-4">

          <div class="row align-items-md-stretch">
            <div class="playerList col-md-6">
              <div class="h-100 p-5 bg-light rounded-3">
                <h2>Player List</h2>
                <div id="getPlayerIds">
                  <ul id="playerList"></ul>
                  <form method="get" name="form" action="overwatch.php">
                    <input type="text" placeholder="Enter Player Url" name="playerUrl" id="playerName">
                  </form>
                  <script src="getPlayerInfo.js"></script>
                  <!-- <input type="text" id="playerName"/> -->
                  <button onclick="addPlayer()" class="btn btn-secondary">Add Player</button>
                  <button onclick="removePlayer()" class="btn btn-secondary">Remove Player</button>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="h-100 p-5 text-white bg-dark border rounded-3">
                <h2>Attribute to View</h2>
                <div id="getAttribute">
                  <input type="checkbox" class="check" id="checkbox" value="EliminationMotinGame"/> Eliminations - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox"value="FinalBlowMotinGame"/>  Final Blows - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="HeroDamageDoneMotinGame"/> Hero Damage Done - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="HealingDoneMotinGame"/> Healing Done - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="AllDamageDoneMotinGame"/> All Damage Done - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox"value="DefeniveAitMotinGame"/>  Defensive Assists - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="OffeniveAitMotinGame"/> Offensive Assists - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="ObjectiveKillMotinGame"/> Objective Kills - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="ObjectiveTimeMotinGame"/> Objective Time - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox"value="MultikillBet"/>  Multi Kills - Best
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="oloKillMotinGame"/> Solo Kills - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="TimepentonFireMotinGame"/> Time Spent on Fire - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="MeleeFinalBlowMotinGame"/> Melee Final Blows - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox"value="FinalBlowMotinGame"/>  Final Blows - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="EnvironmentalKillMotinGame"/> Environment Kills - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="KilltreakBet"/> Killstream - Best
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="BarrierDamageDoneMotinGame"/> Barrier Damage Done - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox"value="AitMotinGame"/>  Assists- Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="ObjectiveContetTimeMotinGame"/> Objective Contest Time - Most in Game
                  <br>
                  <input type="checkbox" class="check" id="checkbox" value="HeroDamageDoneAvgper10Min"/> Hero Damage Done - Avg per 10 min
                  <br><br>
                  <button  type="submit" value= "Submit" onClick="submitAttribute()" class="btn btn-outline-success">Submit and View</button>
                  <!-- Only check one box at a time -->
                  <script>
                    $('input.check').on('change', function() {
                      $('input.check').not(this).prop('checked', false);
                    });
                  </script>
                  <script>
                    function submitAttribute()
                    {
                      var checkboxes = document.getElementsByClassName('check');
                      for (var i = 0; i < checkboxes.length; i ++)
                      {
                        if (checkboxes[i].checked)
                        {
                          bakeCookie("attribute",checkboxes[i].value,14)
                          submitPlayers();
                          alert("Submitted!");
                          var display1 = 1;
                          location.reload();
                        }
                      }
                    }
                    // document.getElementById("myChart").scrollIntoView();

                  </script>
                </div>
              </div>
            </div>
          </div>
          <div class="p-5 mb-4 bg-light rounded-3">
            <div class="container-fluid py-5">
              <h1 class="header display-4 fw-bold">Web Scraper, Database, and Data Visualizer</h1>
              <h2 class="header2 display-6">for Overwatch 2</h2>


              <div>
                <canvas id="myChart"></canvas>
              </div>
              <script>  const ctx = document.getElementById("myChart");

                new Chart(ctx, {
                  type: "bar",
                  data: {
                    labels: [player1_name, player2_name, player3_name, player4_name, player5_name],
                    datasets: [{
                      label: attribute,
                      data: [player1_data, player2_data, player3_data, player4_data, player5_data],
                      backgroundColor: [
                        "rgba(255, 99, 132, 0.2)",
                        "rgba(255, 159, 64, 0.2)",
                        "rgba(255, 205, 86, 0.2)",
                        "rgba(75, 192, 192, 0.2)",
                        "rgba(54, 162, 235, 0.2)"
                        ],
                      borderColor: [
                        "rgb(255, 99, 132)",
                        "rgb(255, 159, 64)",
                        "rgb(255, 205, 86)",
                        "rgb(75, 192, 192)",
                        "rgb(54, 162, 235)"
                        ],
                      borderWidth: 1
                    }]
                  },
                  options: {
                    scales: {
                      y: {
                        beginAtZero: true
                      }
                    }
                  }
                });
              </script>
              <p class=> Built using PHP, SQL, JavaScript, and Python. <br>Run on an Apache Web Server Image Contained in Docker</p>
            </div>
          </div>

          

          <footer class="pt-3 mt-4 text-muted border-top">
            <a href="https://github.com/PatPinello/WebScraperOverwatch2">GitHub for this Project</a>
          </footer>
        </div>


      </body>
    </html>
